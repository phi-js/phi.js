.CmsStoryBuilder {
  display: flex;
  flex-direction: column;

  &__body {
    flex: 1;
  }

  // Chain of height
  .CmsStory,
  .CmsStory > .CmsStory__container,
  .CmsStory > .CmsStory__container > div,
  .CmsStory > .CmsStory__container > div > .LayoutPage {
    height: 100%;
  }

  .CmsStoryEditor,
  .CmsStoryEditor > div,
  .CmsStoryEditor > div > * {
    height: 100%;
  }

  .CmsStoryEditor .LayoutPageEditor {
    flex-direction: column;
    display: flex;
    height: 100%;    
  }

  &__toolbar {
    position: sticky;
    top: 0;
    left: 0;
    right: 0;
    z-index: 1;

    background-color: #333;
    color: #eee;
  }

  &__toolbar-compact {
    display: flex;
  }

  &__expander {
    @extend .ui--clickable;
    margin-left: auto;

    font-weight: 600;
    font-size: 14px;
    border-radius: 4px;

    --ui-item-padding: 8px 16px;
  }

  &__toolbar-large {
    border-radius: var(--ui-radius);
    overflow: hidden; // keep overflow inside border radius
  }

  &__controls {
    display: flex;
    align-items: stretch;
  }

  &__controlItem {
    @extend .ui--clickable;

    min-height: 40px;
    align-self: stretch;
    min-width: 40px;

    &[disabled=true] {
      cursor: default;
      opacity: 0.5;
    }
  }


  &__tabOptions {
    display: flex;
    align-items: stretch;

    font-size: 0.85em;
    --ui-item-padding: 8px 12px;
  }

  &__tabItem {
    @extend .ui--clickable;

    &--sitemap {
      strong {
        color: var(--ui-color-primary);
      }
    }
  }

  /* icon-less, strong, tab items */
  &__tabItem {
    font-weight: 600;
    font-size: 14px;
    border-radius: 4px;

    .UiItem {
      &__icon {
        display: none;
      }

      &__body {
        padding: 8px 16px !important;
      }
    }
  }
}



// Expanded / Collapsed
.CmsStoryBuilder {
  &--collapsed {
    .CmsStoryBuilder__toolbar-compact {
      display: flex;
    }
    .CmsStoryBuilder__toolbar-large {
      display: none;
    }
  }

  &--expanded {
    .CmsStoryBuilder__toolbar-compact {
      display: none;
    }
    .CmsStoryBuilder__toolbar-large {
      display: block;
    }
  }


  // &__corner {
  //   position: absolute;
  //   top: 0;
  //   right: 0;
  //   z-index: 3;
  //   cursor: pointer;

  //   transition: all var(--ui-duration-snap) ease;
  //   width: 24px;
  //   height: 24px;

  //   background: linear-gradient(
  //     -135deg,
  //     #41b883,
  //     #2a7754 45%,
  //     #236346 50%,
  //     #aaa 50%,
  //     #bbb 56%,
  //     #ccc 62%,
  //     #f3f3f3 80%,
  //     #fff 100%
  //   );
  //   box-shadow: 0 0 2px rgba(0, 0, 0, 0.5);

  //   &:hover {
  //     width: 40px;
  //     height: 40px;
  //     box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);

  //     background: linear-gradient(
  //       -135deg,
  //       #41b883,
  //       #3db17d 50%,
  //       #aaa 50%,
  //       #bbb 56%,
  //       #ccc 62%,
  //       #f3f3f3 80%,
  //       #fff 100%
  //     );
  //   }
  // }
}